[
  {
    "cate": "prometheus",
    "datasource_queries": [
      {
        "match_type": 2,
        "op": "in",
        "values": []
      }
    ],
    "name": "MySQL ä»åº“ SQL çº¿ç¨‹æœªè¿è¡Œ",
    "note": "MySQL ä»åº“ SQL çº¿ç¨‹æœªè¿è¡Œ\n\n**ğŸ“Œ æ£€æµ‹æŒ‡æ ‡ä¿¡æ¯**\nâ–¸ å®ä¾‹ï¼š`{{$labels.endpoint}}`\nâ–¸ å½“å‰çŠ¶æ€ï¼šåœæ­¢ (Slave_SQL_Running = 0)\nâ–¸ ç›‘æ§æŒ‡æ ‡ï¼šmysql_slave_status_slave_sql_running\n\n**ğŸ“ å½±å“åˆ†æ**\nâœ“ ä»åº“å·²åœæ­¢æ‰§è¡Œ Relay Log ä¸­çš„ SQL\nâœ“ ä¸»ä»æ•°æ®ä¸ä¼šç»§ç»­åŒæ­¥\nâœ“ å¯èƒ½å¼•èµ·æ•°æ®ä¸ä¸€è‡´æˆ–å»¶è¿Ÿ",
    "prod": "metric",
    "delay": 0,
    "prom_for_duration": 1,
    "rule_config": {
      "queries": [
        {
          "prom_ql": "mysql_slave_status_slave_sql_running == 0",
          "severity": 2,
          "unit": "none"
        }
      ]
    },
    "event_relabel_config": null,
    "prom_eval_interval": 15,
    "enable_in_bg": 0,
    "notify_recovered": 1,
    "notify_repeat_step": 60,
    "notify_max_number": 0,
    "recover_duration": 0,
    "callbacks": [],
    "append_tags": [
      "App=MySQL"
    ],
    "annotations": {},
    "uuid": 0,
    "cur_event_count": 1,
    "update_by_nickname": "è¶…ç®¡",
    "cron_pattern": "@every 15s",
    "notify_rule_ids": [
      1
    ],
    "notify_version": 1
  },
  {
    "cate": "prometheus",
    "datasource_queries": [
      {
        "match_type": 2,
        "op": "in",
        "values": []
      }
    ],
    "name": "MySQL ä»åº“å»¶è¿Ÿå¤§äº30ç§’",
    "note": "MySQL ä»åº“å¤åˆ¶å»¶è¿Ÿè¾¾åˆ°30ç§’ä»¥ä¸Š\n\n**ğŸ“Œ æ£€æµ‹æŒ‡æ ‡ä¿¡æ¯**\nâ–¸ å®ä¾‹ï¼š`{{$labels.instance}}`\nâ–¸ å½“å‰å»¶è¿Ÿï¼š`{{$value}}` ç§’\nâ–¸ ç›‘æ§æŒ‡æ ‡ï¼šmysql_slave_status_sql_delay\n\n**ğŸ“ å½±å“åˆ†æ**\nâœ“ ä»åº“ä¸ä¸»åº“æ•°æ®å»¶è¿Ÿ 30 ç§’\nâœ“ å¯èƒ½å½±å“è¯»å–ä¸€è‡´æ€§æˆ–å»¶è¿Ÿæ•æ„Ÿä¸šåŠ¡\n\n**ğŸ›  å¤„ç†å»ºè®®**\n1. ç™»å½•ä»åº“æ‰§è¡Œ `SHOW SLAVE STATUS\\\\G`\n2. æ£€æŸ¥ `Seconds_Behind_Master` å­—æ®µ\n3. æŸ¥çœ‹ç½‘ç»œå’Œ IO çŠ¶å†µ\\n4. ç¡®è®¤ä¸»åº“è´Ÿè½½æ˜¯å¦è¿‡é«˜\n5. æ ¹æ®éœ€è¦ä¼˜åŒ–å¤åˆ¶æˆ–æ‰©å®¹\"",
    "prod": "metric",
    "delay": 0,
    "prom_for_duration": 60,
    "rule_config": {
      "queries": [
        {
          "prom_ql": "mysql_slave_status_sql_delay >= 30",
          "severity": 2,
          "unit": "none"
        }
      ]
    },
    "event_relabel_config": null,
    "prom_eval_interval": 15,
    "enable_in_bg": 0,
    "notify_recovered": 1,
    "notify_repeat_step": 60,
    "notify_max_number": 0,
    "recover_duration": 0,
    "callbacks": [],
    "append_tags": [
      "App=MySQL"
    ],
    "annotations": {},
    "uuid": 0,
    "cur_event_count": 0,
    "update_by_nickname": "è¶…ç®¡",
    "cron_pattern": "@every 60s",
    "notify_rule_ids": [
      1
    ],
    "notify_version": 1
  },
  {
    "cate": "prometheus",
    "datasource_queries": [
      {
        "match_type": 2,
        "op": "in",
        "values": []
      }
    ],
    "name": "MySQL æ…¢æŸ¥è¯¢æ•°é‡è¿‡å¤š",
    "note": "**ğŸ“Œ æ£€æµ‹æŒ‡æ ‡ä¿¡æ¯**\nâ–¸ å®ä¾‹ï¼š`{{$labels.endpoint}}`\nâ–¸ å½“å‰æ…¢æŸ¥è¯¢é€Ÿç‡ï¼š`{{ humanize $value }}` æ¡/ç§’\nâ–¸ è§¦å‘é˜ˆå€¼ï¼š3æ¡/ç§’\n\n**ğŸ“ å½±å“åˆ†æ**\nâœ“ æ•°æ®åº“å­˜åœ¨å¤§é‡æ…¢æŸ¥è¯¢ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½ä¸‹é™\nâœ“ å¯èƒ½ç”±ç´¢å¼•ç¼ºå¤±ã€æ•°æ®é‡è†¨èƒ€ã€SQLä¸åˆç†ç­‰åŸå› å¼•èµ·\nâœ“ è‹¥æŒç»­å¢é•¿ï¼Œå¯èƒ½å¼•å‘åº”ç”¨è¶…æ—¶",
    "prod": "metric",
    "delay": 0,
    "prom_for_duration": 300,
    "rule_config": {
      "queries": [
        {
          "prom_ql": "rate(mysql_global_status_slow_queries[5m]) > 3",
          "severity": 2,
          "unit": "none"
        }
      ]
    },
    "event_relabel_config": null,
    "prom_eval_interval": 15,
    "enable_in_bg": 0,
    "notify_recovered": 1,
    "notify_repeat_step": 60,
    "notify_max_number": 0,
    "recover_duration": 0,
    "callbacks": [],
    "append_tags": [
      "App=MySQL"
    ],
    "annotations": {},
    "uuid": 0,
    "cur_event_count": 0,
    "update_by_nickname": "è¶…ç®¡",
    "cron_pattern": "@every 300s",
    "notify_rule_ids": [
      1
    ],
    "notify_version": 1
  },
  {
    "cate": "prometheus",
    "datasource_queries": [
      {
        "match_type": 2,
        "op": "in",
        "values": []
      }
    ],
    "name": "MySQL æ´»è·ƒè¿æ¥æ•°è¿‡é«˜",
    "note": "**ğŸ“Œ æ£€æµ‹æŒ‡æ ‡ä¿¡æ¯**\nâ–¸ å®ä¾‹ï¼š`{{$labels.endpoint}}`\nâ–¸ å½“å‰æ´»è·ƒè¿æ¥æ•°ï¼š`{{ humanize $value }}`\nâ–¸ è§¦å‘é˜ˆå€¼ï¼š300\n\n**ğŸ“ å½±å“åˆ†æ**\nâœ“ MySQLè¿æ¥æ•°å·²æ¥è¿‘æˆ–è¶…è¿‡æœ€å¤§è¿æ¥æ•°\nâœ“ å¯èƒ½ä¼šå¯¼è‡´åº”ç”¨è¿æ¥å¤±è´¥ï¼ˆ\"Too many connections\"ï¼‰\nâœ“ å¯èƒ½ç”±è¿æ¥æ³„éœ²ã€é•¿äº‹åŠ¡ã€çŸ­æ—¶é—´æµé‡æš´å¢ç­‰åŸå› å¯¼è‡´",
    "prod": "metric",
    "delay": 0,
    "prom_for_duration": 300,
    "rule_config": {
      "queries": [
        {
          "prom_ql": "rate(mysql_global_status_threads_connected[5m]) > 300",
          "severity": 2,
          "unit": "none"
        }
      ]
    },
    "event_relabel_config": null,
    "prom_eval_interval": 15,
    "enable_in_bg": 0,
    "notify_recovered": 1,
    "notify_repeat_step": 60,
    "notify_max_number": 0,
    "recover_duration": 0,
    "callbacks": [],
    "append_tags": [
      "App=MySQL"
    ],
    "annotations": {},
    "uuid": 0,
    "cur_event_count": 0,
    "update_by_nickname": "è¶…ç®¡",
    "cron_pattern": "@every 300s",
    "notify_rule_ids": [
      1
    ],
    "notify_version": 1
  },
  {
    "cate": "prometheus",
    "datasource_queries": [
      {
        "match_type": 2,
        "op": "in",
        "values": []
      }
    ],
    "name": "MySQLæœåŠ¡ä¸å¯ç”¨",
    "note": "**ğŸ“› å‘Šè­¦åç§°**\nMySQL æœåŠ¡ä¸å¯ç”¨\n\n**ğŸ“Œ æ£€æµ‹æŒ‡æ ‡ä¿¡æ¯**\nâ–¸ å‘½åç©ºé—´ï¼š`{{$labels.namespace}}`\nâ–¸ Pod åç§°ï¼š`{{$labels.pod}}`\nâ–¸ å®ä¾‹ï¼š`10.84.4.60:3306`\nâ–¸ æœåŠ¡ï¼š`{{$labels.service}}`\nâ–¸ Exporter çŠ¶æ€ï¼šå·²æ­£å¸¸è¿è¡Œ\nâ–¸ MySQL å®ä¾‹çŠ¶æ€ï¼šè¿æ¥å¤±è´¥ï¼ˆmysql_up = 0ï¼‰\n\n**ğŸ“ å½±å“åˆ†æ**\nâœ“ æ— æ³•é‡‡é›† MySQL æ€§èƒ½æŒ‡æ ‡ï¼ˆQPSã€è¿æ¥æ•°ã€æ…¢æŸ¥è¯¢ç­‰ï¼‰\nâœ“ åº”ç”¨å¯èƒ½å·²æ— æ³•è®¿é—®æ•°æ®åº“\nâœ“ è‡ªåŠ¨åŒ–å‘Šè­¦ä¸ç›‘æ§å°†å¤±æ•ˆ",
    "prod": "metric",
    "delay": 0,
    "prom_for_duration": 60,
    "rule_config": {
      "queries": [
        {
          "prom_ql": "mysql_up{} == 0",
          "severity": 2,
          "unit": "none"
        }
      ]
    },
    "event_relabel_config": null,
    "prom_eval_interval": 15,
    "enable_in_bg": 0,
    "notify_recovered": 1,
    "notify_repeat_step": 60,
    "notify_max_number": 0,
    "recover_duration": 0,
    "callbacks": [],
    "append_tags": [
      "App=MySQL"
    ],
    "annotations": {},
    "uuid": 0,
    "cur_event_count": 0,
    "update_by_nickname": "è¶…ç®¡",
    "cron_pattern": "@every 60s",
    "notify_rule_ids": [
      1
    ],
    "notify_version": 1
  }
]